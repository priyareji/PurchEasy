{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/91799/Documents/project/PURCHeasy/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { DatePipe } from '@angular/common';\nimport { BehaviorSubject, Subject } from 'rxjs';\nimport { SnackBarComponent } from '@app/components/snack-bar/snack-bar.component';\nimport { Common } from './common';\nimport * as moment from 'moment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/platform-browser\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../../components/alert\";\nimport * as i5 from \"@angular/material/snack-bar\";\nimport * as i6 from \"@app/app-initializer.service\";\nimport * as i7 from \"@angular/cdk/clipboard\";\nimport * as i8 from \"./locale.service\";\nexport class GlobalFunctionService extends Common {\n  constructor(location, title, router, alertService, snackBar, sanitizer, componentFactoryResolver, appInit, clipboard, locale) {\n    super();\n    this.location = location;\n    this.title = title;\n    this.router = router;\n    this.alertService = alertService;\n    this.snackBar = snackBar;\n    this.sanitizer = sanitizer;\n    this.componentFactoryResolver = componentFactoryResolver;\n    this.appInit = appInit;\n    this.clipboard = clipboard;\n    this.locale = locale;\n    this.globalBS$ = new Subject();\n    this.globalS$ = new Subject();\n    this.isLogin$ = new BehaviorSubject(false);\n    this.sessionUser = null;\n    this.sideNaveState$ = new BehaviorSubject(false);\n    this.pageLoader$ = new BehaviorSubject(false);\n    this.moduleName$ = new BehaviorSubject('');\n    this.profilePicture$ = new BehaviorSubject('');\n    this.companyLogo$ = new BehaviorSubject('');\n    this.lastParentMenu = [];\n  }\n  /**\r\n  * @description To set page title using angular predefined setTitle() function\r\n  * @param {string} value title value to replace in title tag.\r\n  * @set It will set the title in browser.\r\n  */\n\n\n  setTitle(value) {\n    let pageTitle = '';\n\n    if (value && value.toString().length) {\n      pageTitle = value + ' - ' + this.appInit.configuration.SITE_TITLE;\n    } else {\n      pageTitle = this.appInit.configuration.SITE_TITLE; // this.appInit.configuration.\n    }\n\n    this.title.setTitle(pageTitle);\n  }\n  /**\r\n       * @description Given values will be modified before sending the data to API.\r\n       * @param {json} apiValues form values.\r\n       * @param {json} renderField form build json data.\r\n       * @set Modified form values to {@link apiValues}\r\n       */\n\n\n  fieldValueConstruct(renderField, apiValues) {\n    if (renderField.fieldType === 'date' && ![null, undefined].includes(apiValues[renderField.fieldColumn])) {\n      const currentDate = new DatePipe('en-us');\n      const final = Date.parse(apiValues[renderField.fieldColumn]);\n\n      if (final !== null) {\n        apiValues[renderField.fieldColumn] = final;\n      }\n    } else if (renderField.fieldType === 'imageCrop' && ![null, undefined].includes(apiValues[renderField.fieldColumn])) {\n      if (apiValues[renderField.fieldColumn].hasOwnProperty('croppedFile')) {\n        apiValues[renderField.fieldColumn] = apiValues[renderField.fieldColumn].croppedFile;\n      }\n    } else if (renderField.fieldType === 'internationalPhoneNumber' && ![null, undefined].includes(apiValues[renderField.fieldColumn])) {\n      const value = apiValues[renderField.fieldColumn];\n\n      if (value !== null) {\n        const finalIntelNumber = {\n          value,\n          country: renderField.additionalMetaData.country\n        };\n        apiValues[renderField.fieldColumn] = JSON.stringify(finalIntelNumber);\n      }\n    } else if (renderField.fieldType === 'captcha' && ![null, undefined].includes(apiValues[renderField.fieldColumn])) {\n      Object.keys(apiValues).map(key => {\n        if (key === renderField.fieldColumn) {\n          delete apiValues[key];\n        }\n      });\n    } else if (renderField.fieldType === 'dropDown' && ![null, undefined].includes(apiValues[renderField.fieldColumn])) {\n      if (renderField.isMultiple && renderField.additionalMetaData.showSelectAll && apiValues[renderField.fieldColumn].length) {\n        apiValues[renderField.fieldColumn].map((data, index) => {\n          if (data === 'selectAll') {\n            apiValues[renderField.fieldColumn].splice(index, 1);\n          }\n        });\n      } else {\n        if (renderField.additionalMetaData.isNone && !renderField.isRequired && apiValues[renderField.fieldColumn] === 'none') {\n          apiValues[renderField.fieldColumn] = null;\n        }\n      }\n    } else if (renderField.fieldType === 'textBox' && ![null, undefined].includes(apiValues[renderField.fieldColumn])) {\n      if (renderField.additionalMetaData.capLock) {\n        apiValues[renderField.fieldColumn] = apiValues[renderField.fieldColumn].toUpperCase();\n      }\n\n      if (renderField.type === 'number') {\n        apiValues[renderField.fieldColumn] = Number(apiValues[renderField.fieldColumn]);\n      }\n    } else if (renderField.fieldType === 'autoComplete') {\n      if (renderField.hasOwnProperty('selectedValue') && renderField.selectedValue.length) {\n        let value = [];\n        renderField.selectedValue.map(optionsResp => {\n          if (typeof optionsResp === 'object') {\n            if (optionsResp.hasOwnProperty('key')) {\n              const pushData = {\n                key: optionsResp.key\n              }; // if (optionsResp.hasOwnProperty('weightage')) {\n              // \tpushData.progress = optionsResp.progress;\n              // \t// pushData.weightage = optionsResp.weightage;\n              // \t// if (Array.isArray(renderField.additionalMetaData.maxWeightage)) {\n              // \t// \tpushData.weightage = renderField.additionalMetaData.maxWeightage[optionsResp.weightage].key;\n              // \t// }\n              // }\n\n              value.push(pushData);\n\n              if (value[value.length - 1] && typeof value[value.length - 1] === 'object') {\n                if (optionsResp.isDelete) {\n                  value[value.length - 1].isDelete = optionsResp.isDelete;\n                }\n\n                if (optionsResp.isAdd) {\n                  value[value.length - 1].isAdd = optionsResp.isAdd;\n                }\n              }\n            } else {\n              value.push({\n                value: optionsResp\n              });\n            }\n          } else {\n            value.push(optionsResp);\n          }\n        });\n\n        if (!renderField.preDefined && !renderField.isMultiple) {\n          if (apiValues[renderField.fieldColumn] && typeof apiValues[renderField.fieldColumn] === 'string') {\n            value = [{\n              value: {\n                isAdd: true,\n                isDelete: false,\n                value: apiValues[renderField.fieldColumn]\n              }\n            }];\n          }\n        }\n\n        apiValues[renderField.fieldColumn] = value;\n      }\n    }\n\n    if (['textBox', 'textArea', 'dropDown', 'radio', 'date', 'quillEditor'].includes(renderField.fieldType) && [null, undefined].includes(apiValues[renderField.fieldColumn]) && !Array.isArray(apiValues)) {\n      apiValues[renderField.fieldColumn] = '';\n    }\n  }\n  /**\r\n  * @description After the validation, values will be modified before sending the data to API.\r\n  * @param {json} apiValues form values as json.\r\n  * @param {json} renderFields form build json data.\r\n  * @see fieldValueConstruct()\r\n  * @return {json} Modified form values.\r\n  */\n\n\n  fieldSubmitApiValueConstruct(apiValues, renderFields) {\n    if (renderFields.length) {\n      renderFields.map(renderField => {\n        this.fieldValueConstruct(renderField, apiValues);\n      });\n    }\n\n    return apiValues;\n  }\n  /**\r\n  * @description Resetting the form / control.\r\n  * @param {form} form Form / FormControl.\r\n  */\n\n\n  resetValue(form) {\n    if (form) {\n      form.reset();\n      form.markAsTouched();\n    }\n  }\n  /**\r\n  * @description To navigate to preferred page.\r\n  * @param {string} link Router link.\r\n  * @param {object} additionalData Router's additional data like queryParams or etc.\r\n  * @param {string | number} params Router's additional path.\r\n  * @return {boolean} false.\r\n  */\n\n\n  routeNavigation(link, additionalData = {}, params = '') {\n    if (![null, undefined, ''].includes(link)) {\n      if (Object.keys(additionalData).length && params) {\n        let linkData = [];\n        linkData.push(link);\n        linkData = linkData.concat(params);\n        this.router.navigate(linkData, additionalData);\n      } else if (Object.keys(additionalData).length && !params) {\n        this.router.navigate([link], {\n          queryParams: additionalData\n        });\n      } else if (params && !Object.keys(additionalData).length) {\n        let linkData = [];\n        linkData.push(link);\n        linkData = linkData.concat(params);\n        this.router.navigate(linkData);\n      } else {\n        this.router.navigate([link]);\n      }\n    }\n\n    return false;\n  }\n  /**\r\n  * @description Refresh the cookie (token, currentUser).\r\n  */\n\n\n  refreshCookies() {\n    // const currentUser = this.getCookie('currentUser');\n    const expire = this.appInit.configuration.sessionExpireTime;\n    const options = {\n      expire\n    };\n    const token = this.getCookie('token');\n    this.setCookie('token', token, options); // this.setCookie('currentUser', currentUser, options);\n  }\n  /**\r\n  * @description Check whether the user is logged in or not. If the user is logged in then the cookie will be refreshed.\r\n  * @see refreshCookies()\r\n  * @returns {boolean} true / false\r\n  */\n\n\n  get isLogin() {\n    const currentUser = this.sessionUser;\n    const token = this.getCookie('token');\n\n    if (![null, undefined, ''].includes(currentUser) && ![null, undefined, ''].includes(token)) {\n      this.refreshCookies();\n      return true;\n    }\n\n    return false;\n  }\n  /**\r\n  * @description Set form control as touched.\r\n  * @param {array} renderFields array of fields.\r\n  * @param {FormGroup} form Form field controls.\r\n  */\n\n\n  fieldControlMarkAsTouched(renderFields, form) {\n    const formGroup = form;\n\n    for (const field of renderFields) {\n      if (formGroup.controls[field.fieldColumn].touched === false && formGroup.controls[field.fieldColumn].status === 'INVALID') {\n        formGroup.controls[field.fieldColumn].markAsTouched();\n      }\n    }\n  }\n  /**\r\n  * @description Set form control as touched.\r\n  * @param {array} renderFields array of form group field.\r\n  * @param {FormGroup} form Form field controls.\r\n  */\n\n\n  fieldGroupControlMarkAsTouched(renderFields, form) {\n    const formGroup = form;\n\n    for (const field of renderFields.fieldGroup) {\n      this.fieldControlMarkAsTouched(field.FieldList, formGroup.controls['group_' + field.fieldGroupId]);\n    }\n  }\n\n  loadComponent(component, container, record) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (!Array.isArray(record)) {\n        throw new Error('Record must be an array of json');\n      } else if ([null, undefined, ''].includes(component)) {\n        throw new Error('Component name should not be empty');\n      }\n\n      try {\n        if (typeof component === 'object') {\n          const actualComponent = yield component;\n          const key = Object.keys(actualComponent)[0];\n          component = actualComponent[key];\n        }\n\n        const factory = _this.componentFactoryResolver.resolveComponentFactory(component); // container.clear();\n\n\n        const ref = container.createComponent(factory);\n\n        for (const data of record) {\n          ref.instance[data.variableName] = data.value;\n        }\n\n        ref.changeDetectorRef.detectChanges();\n        return ref.instance;\n      } catch (error) {\n        throw new Error(error);\n      }\n    })();\n  }\n\n  dateFormat(date, format) {\n    return new DatePipe('en-US').transform(date, format);\n  }\n\n  getUTCOffset(date, type = 'STRING') {\n    const pad = value => {\n      return value < 10 ? '0' + value : value;\n    };\n\n    const sign = date.getTimezoneOffset() > 0 ? '-' : '+';\n    const offset = Math.abs(date.getTimezoneOffset());\n    const hours = pad(Math.floor(offset / 60));\n    const minutes = pad(offset % 60);\n\n    if (type === 'JSON') {\n      return {\n        sign,\n        hours,\n        minutes\n      };\n    } else {\n      return sign + hours + ':' + minutes;\n    }\n  }\n\n  formErrorHandler(error, form) {\n    if (error.error.propertyError && error.error.propertyError.length) {\n      for (const property of error.error.propertyError) {\n        Object.keys(property).map(key => {\n          if (form.controls[key]) {\n            form.controls[key].setErrors({\n              incorrect: {\n                msg: property[key]\n              }\n            });\n          }\n        });\n      }\n    }\n  }\n  /**\r\n  * @description Trigger alert.\r\n  * @param {json | string} error Form field controls.\r\n  * @param {string} id alert id.\r\n  * @param {string} type type of alert.\r\n  */\n\n\n  alertHandler(error, id, options) {\n    let message = this.appInit.configuration.MESSAGE.WENT_WRONG;\n\n    if (![null, undefined, ''].includes(error.error)) {\n      if (error.error === 'popup_closed_by_user') {\n        message = `Access cancelled.`;\n      } else if (error.error === 'access_denied') {\n        message = `Access denied.`;\n      } else if (typeof error.error === 'string') {\n        message = error.error;\n      } else if (![null, undefined, ''].includes(error.error.propertyError) && error.error.propertyError.length) {\n        const msg = Object.values(error.error.propertyError[0])[0] || message;\n        message = msg.toString();\n      } else if (![null, undefined, ''].includes(error.error.message)) {\n        message = error.error.message;\n      } else if (![null, undefined, ''].includes(error.error.error)) {\n        if (error.error.error !== 'invalid_grant') {\n          message = error.error.error;\n        }\n      }\n    } else if (![null, undefined, ''].includes(error.statusText)) {\n      message = error.statusText;\n    } else if (typeof error === 'string') {\n      message = error;\n    }\n\n    if (typeof options === 'string') {\n      const data = {\n        content: {\n          text: message\n        },\n        alertId: id,\n        type: options,\n        action: [],\n        autoHide: false\n      }; // data.action = [];\n\n      if (options === 'SUCCESS') {\n        data.action.push({\n          type: 'icon',\n          icon: 'done',\n          position: 'left',\n          emit: false,\n          classes: ['status-icon'],\n          toolTip: ''\n        });\n      } else if (options === 'WARNING') {\n        data.action.push({\n          type: 'icon',\n          icon: 'warning',\n          position: 'left',\n          emit: false,\n          classes: ['status-icon'],\n          toolTip: ''\n        });\n      } else if (options === 'ERROR') {\n        data.action.push({\n          type: 'icon',\n          icon: 'clear',\n          position: 'left',\n          emit: false,\n          classes: ['status-icon'],\n          toolTip: ''\n        });\n      }\n\n      options = data;\n    }\n\n    this.alertService.alert(options);\n  }\n  /**\r\n   * @description Trigger alert.\r\n   * @param {string} type type of snack bar.\r\n   * @param {string} message snack message.\r\n   */\n\n\n  openSnackBar(type, message, config = {\n    verticalPosition: 'top'\n  }) {\n    if (Object.keys(config).length === 0 || !config.hasOwnProperty('duration')) {\n      config.duration = this.appInit.configuration.snackBarDuration;\n    }\n\n    const data = {\n      data: {\n        message,\n        type\n      }\n    };\n    this.snackBar.openFromComponent(SnackBarComponent, this.JSONMerge(data, config));\n  }\n  /**\r\n  * @description Clear particular alert.\r\n  * @param {string} id alert id.\r\n  */\n\n\n  alertClear(id) {\n    this.alertService.clear(id);\n  }\n\n  embed(url) {\n    let returnData;\n    let urlFormat = this.detectEmbedURL(url);\n\n    if (urlFormat.id) {\n      urlFormat.isFormatted = true;\n      returnData = this.formatEmbedURL(urlFormat);\n    } else {\n      urlFormat.isFormatted = false;\n      urlFormat.url = url;\n      returnData = urlFormat;\n    }\n\n    return returnData;\n  }\n\n  detectEmbedURL(url) {\n    const urlData = new URL(url);\n    let returnValue;\n\n    if (urlData.hostname.indexOf('youtube.com') > -1) {\n      returnValue = {\n        type: 'youtube',\n        id: urlData.search.split('=')[1]\n      };\n    } else if (urlData.hostname === 'youtu.be') {\n      returnValue = {\n        type: 'youtube',\n        id: urlData.pathname.split('/')[1]\n      };\n    } else if (urlData.hostname === 'vimeo.com') {\n      returnValue = {\n        type: 'vimeo',\n        id: urlData.pathname.split('/')[1]\n      };\n    } else {\n      returnValue = {\n        type: 'embedLink',\n        id: null\n      };\n    }\n\n    return returnValue;\n  }\n\n  formatEmbedURL(urlFormat) {\n    if (urlFormat.type === 'youtube') {\n      const url = this.sanitizer.bypassSecurityTrustResourceUrl(`https://www.youtube.com/embed/${urlFormat.id}`);\n\n      if (url && Object.keys(url).length) {\n        urlFormat.url = url.changingThisBreaksApplicationSecurity;\n      } else {\n        urlFormat.url = url;\n      }\n    } else if (urlFormat.type === 'vimeo') {\n      const url = this.sanitizer.bypassSecurityTrustResourceUrl(`https://player.vimeo.com/video/${urlFormat.id}`);\n\n      if (url && Object.keys(url).length) {\n        urlFormat.url = url.changingThisBreaksApplicationSecurity;\n      } else {\n        urlFormat.url = url;\n      }\n    }\n\n    return urlFormat;\n  }\n\n  trackByID(index, item) {\n    if (this.hasOwnProperty('key') && item) {\n      return item[this['key']];\n    }\n  }\n\n  elementInViewport(el) {\n    var rect = el.getBoundingClientRect();\n    return rect.top >= 0 && rect.left >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n    /* or $(window).height() */\n    rect.right <= (window.innerWidth || document.documentElement.clientWidth)\n    /* or $(window).width() */\n    ;\n  }\n\n  errorHandler(error, additionalInfo) {\n    if (error && additionalInfo) {\n      if (error.error && error.error.errorCode === 'SYSTEM_ERROR') {\n        error.error = this.locale.translate('sorry_something_went_wrong_try_again');\n      }\n\n      if (additionalInfo.alert) {\n        if (!additionalInfo.alert.options) {\n          additionalInfo.alert.options = 'ERROR';\n        }\n\n        this.alertHandler(error, additionalInfo.alert.id, additionalInfo.alert.options);\n      } else if (additionalInfo.snackBar) {\n        let message = this.appInit.configuration.MESSAGE.WENT_WRONG;\n\n        if (![null, undefined, ''].includes(error.error)) {\n          if (typeof error.error === 'string') {\n            message = error.error;\n          } else if (![null, undefined, ''].includes(error.error.message)) {\n            message = error.error.message;\n          } else if (![null, undefined, ''].includes(error.error.error)) {\n            if (error.error.error !== 'invalid_grant') {\n              message = error.error.error;\n            }\n          }\n        } else if (![null, undefined, ''].includes(error.statusText)) {\n          message = error.statusText;\n        } else if (typeof error === 'string') {\n          message = error;\n        }\n\n        additionalInfo.snackBar['message'] = message;\n        additionalInfo.snackBar['icon'] = 'error';\n        this.openSnackBar('ERROR', additionalInfo.snackBar);\n      }\n\n      if (additionalInfo.form) {\n        this.formErrorHandler(error, additionalInfo.form.form);\n      }\n    }\n  }\n\n  get errorImages() {\n    return [{\n      key: 'dummy_1',\n      value: 'dummyimg1.png'\n    }, {\n      key: 'dummy_2',\n      value: 'dummy-img.png'\n    }, {\n      key: 'resourceDefault',\n      value: 'resource-default-image.jpg'\n    }, {\n      key: 'man',\n      value: 'man.png'\n    }, {\n      key: 'courseThumbnail',\n      value: 'course-thumbnail.png'\n    }, {\n      key: 'training',\n      value: 'training.jpg'\n    }, {\n      key: 'certificate',\n      value: 'certificate.jpeg'\n    }, {\n      key: 'broken_image',\n      value: 'broken-image.jpg'\n    }];\n  }\n\n  setErrorImage(event, key) {\n    if (navigator.onLine) {\n      if (event.target) {\n        const errorImg = this.errorImages.find(items => items.key === key);\n\n        if (errorImg) {\n          event.target.src = `assets/img/${errorImg.value}`;\n        }\n      }\n    }\n  }\n\n  copyToClipboard(text, alertMessage = '') {\n    if (text) {\n      this.clipboard.copy(text);\n\n      if (alertMessage) {}\n    }\n  }\n\n  intervalTimer(callback, interval) {\n    let timerId,\n        startTime,\n        remaining = 0;\n    let state = 0; //  0 = idle, 1 = running, 2 = paused, 3= resumed\n\n    let pastInterval = 0;\n\n    function pause() {\n      if (![1, 3].includes(state)) return;\n      let currentTimer = Date.now() - startTime;\n\n      if (pastInterval < interval) {\n        pastInterval = pastInterval + currentTimer;\n      } else {\n        pastInterval = interval;\n      }\n\n      remaining = interval - pastInterval;\n      window.clearInterval(timerId);\n      state = 2;\n    }\n\n    function resume() {\n      if (state != 2) return;\n      state = 3;\n      startTime = Date.now();\n      timerId = window.setTimeout(timeoutCallback, remaining);\n    }\n\n    function clearInterval() {\n      window.clearInterval(timerId);\n    }\n\n    function timeoutCallback() {\n      if (state != 3) return;\n      pastInterval = 0;\n      callback();\n      timerId = window.setInterval(counter, interval);\n      state = 1;\n    }\n\n    function counter() {\n      startTime = Date.now();\n      pastInterval = 0;\n      callback();\n    }\n\n    startTime = Date.now();\n    timerId = window.setInterval(counter, interval);\n    state = 1;\n    return {\n      pause,\n      resume,\n      clearInterval\n    };\n  }\n\n  getTimeDuration(time, durationType = 'minutes') {\n    let splittedTime = time.split(':');\n    let hour = 0;\n    let minutes = 0;\n    let seconds = 0;\n    let duration = '';\n\n    if (splittedTime.length) {\n      hour = parseInt(splittedTime[0]);\n      minutes = parseInt(splittedTime[1]);\n\n      if (splittedTime.length === 3) {\n        seconds = parseInt(splittedTime[2]);\n      }\n\n      if (durationType === 'hour') {\n        hour += Math.floor(minutes / 60);\n        hour += Math.floor(seconds / 3600);\n\n        if (hour <= 1) {\n          duration = `${hour} hour`;\n        } else {\n          duration = `${hour} hours`;\n        }\n      } else if (durationType === 'minutes') {\n        minutes += Math.floor(hour * 60);\n        minutes += Math.floor(seconds / 60);\n\n        if (minutes <= 1) {\n          duration = `${minutes} min`;\n        } else {\n          duration = `${minutes} min`;\n        }\n      } else if (durationType === 'seconds') {\n        seconds += Math.floor(hour * 3600);\n        seconds += Math.floor(minutes * 60);\n\n        if (seconds <= 1) {\n          duration = `${seconds} seconds`;\n        } else {\n          duration = `${seconds} seconds`;\n        }\n      }\n    }\n\n    return duration;\n  }\n\n  getRangeDate(past, type, duration, conditionalDate, fromDate) {\n    let returnData = null;\n\n    if (!fromDate) {\n      fromDate = new Date();\n    }\n\n    const targetedDate = moment(fromDate).format('YYYY-MM-DD');\n    const alteredDate = this.getDateDifference(past, type, duration, fromDate);\n    let startDate;\n    let endDate;\n\n    if (past) {\n      startDate = alteredDate;\n\n      if (conditionalDate) {\n        if (alteredDate < conditionalDate) {\n          startDate = conditionalDate;\n        }\n      }\n\n      endDate = moment(targetedDate).endOf('day').valueOf();\n    } else {\n      startDate = moment(targetedDate).startOf('day').valueOf();\n      endDate = alteredDate;\n\n      if (conditionalDate) {\n        if (alteredDate > conditionalDate) {\n          endDate = conditionalDate;\n        }\n      }\n    }\n\n    if (startDate && endDate) {\n      returnData = {\n        startDate,\n        endDate\n      };\n    }\n\n    return returnData;\n  }\n\n}\n\nGlobalFunctionService.ɵfac = function GlobalFunctionService_Factory(t) {\n  return new (t || GlobalFunctionService)(i0.ɵɵinject(i1.Location), i0.ɵɵinject(i2.Title), i0.ɵɵinject(i3.Router), i0.ɵɵinject(i4.AlertService), i0.ɵɵinject(i5.MatSnackBar), i0.ɵɵinject(i2.DomSanitizer), i0.ɵɵinject(i0.ComponentFactoryResolver), i0.ɵɵinject(i6.AppInitService), i0.ɵɵinject(i7.Clipboard), i0.ɵɵinject(i8.LocaleService));\n};\n\nGlobalFunctionService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: GlobalFunctionService,\n  factory: GlobalFunctionService.ɵfac\n});","map":{"version":3,"sources":["C:\\Users\\91799\\Documents\\project\\PURCHeasy\\src\\app\\shared\\services\\global-function.service.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable, ComponentFactoryResolver, ViewContainerRef, ComponentRef } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { NavigationExtras, Router } from '@angular/router';\nimport { Title, DomSanitizer } from '@angular/platform-browser';\nimport { DatePipe } from '@angular/common';\nimport { BehaviorSubject, Subject } from 'rxjs';\nimport { AlertService, AlertType, Alert } from '../../components/alert';\nimport { AppInitService } from '@app/app-initializer.service';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { SnackBarComponent } from '@app/components/snack-bar/snack-bar.component';\nimport { Common } from './common';\nimport { Clipboard } from \"@angular/cdk/clipboard\";\nimport { FormGroup } from '@angular/forms';\nimport { SnackBarConfiguration } from '../models/common.model';\nimport { LocaleService } from './locale.service';\nimport * as moment from 'moment';\n\n@Injectable()\nexport class GlobalFunctionService extends Common {\n\n\tglobalBS$: Subject<{\n\t\ttype: 'MAIN' | 'BURGER' | 'IS_LOGIN' | 'PAGE_LOADER' | 'MODULE_NAME' | 'FULL_SCREEN' | 'NOTIFICATION_PERMISSION' | 'NOTIFICATION_STATE',\n\t\t[x: string]: any\n\t}> = new Subject();\n\tglobalS$: Subject<{\n\t\ttype: 'LOAD_TASK' | 'WINDOW_SCROLL',\n\t\t[x: string]: any\n\t}> = new Subject();\n\tisLogin$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n\tsessionUser: any = null;\n\tsideNaveState$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n\tpageLoader$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n\tmoduleName$: BehaviorSubject<string> = new BehaviorSubject('');\n\tprofilePicture$: BehaviorSubject<string> = new BehaviorSubject('');\n\tcompanyLogo$: BehaviorSubject<string> = new BehaviorSubject('');\n\tlastParentMenu: any = [];\n\n\tconstructor(\n\t\tprivate location: Location,\n\t\tprivate title: Title,\n\t\tprivate router: Router,\n\t\tprivate alertService: AlertService,\n\t\tprivate snackBar: MatSnackBar,\n\t\tprivate sanitizer: DomSanitizer,\n\t\tprivate componentFactoryResolver: ComponentFactoryResolver,\n\t\tprivate appInit: AppInitService,\n\t\tprivate clipboard: Clipboard,\n\t\tprivate locale: LocaleService\n\t) {\n\t\tsuper();\n\t}\n\n\t/**\n   * @description To set page title using angular predefined setTitle() function\n   * @param {string} value title value to replace in title tag.\n   * @set It will set the title in browser.\n   */\n\tsetTitle(value: string): void {\n\t\tlet pageTitle = '';\n\t\tif (value && value.toString().length) {\n\t\t\tpageTitle = value + ' - ' + this.appInit.configuration.SITE_TITLE;\n\t\t} else {\n\t\t\tpageTitle = this.appInit.configuration.SITE_TITLE;\n\t\t\t// this.appInit.configuration.\n\t\t}\n\t\tthis.title.setTitle(pageTitle);\n\t}\n\n\t/**\n\t\t * @description Given values will be modified before sending the data to API.\n\t\t * @param {json} apiValues form values.\n\t\t * @param {json} renderField form build json data.\n\t\t * @set Modified form values to {@link apiValues}\n\t\t */\n\tfieldValueConstruct(renderField: any, apiValues: any) {\n\t\tif (renderField.fieldType === 'date' && ![null, undefined].includes(apiValues[renderField.fieldColumn])) {\n\t\t\tconst currentDate = new DatePipe('en-us');\n\t\t\tconst final = Date.parse(apiValues[renderField.fieldColumn]);\n\t\t\tif (final !== null) {\n\t\t\t\tapiValues[renderField.fieldColumn] = final;\n\t\t\t}\n\t\t} else if (\n\t\t\trenderField.fieldType === 'imageCrop' &&\n\t\t\t![null, undefined].includes(apiValues[renderField.fieldColumn])\n\t\t) {\n\t\t\tif (apiValues[renderField.fieldColumn].hasOwnProperty('croppedFile')) {\n\t\t\t\tapiValues[renderField.fieldColumn] = apiValues[renderField.fieldColumn].croppedFile;\n\t\t\t}\n\t\t} else if (\n\t\t\trenderField.fieldType === 'internationalPhoneNumber' &&\n\t\t\t![null, undefined].includes(apiValues[renderField.fieldColumn])\n\t\t) {\n\t\t\tconst value = apiValues[renderField.fieldColumn];\n\t\t\tif (value !== null) {\n\t\t\t\tconst finalIntelNumber = { value, country: renderField.additionalMetaData.country };\n\t\t\t\tapiValues[renderField.fieldColumn] = JSON.stringify(finalIntelNumber);\n\t\t\t}\n\t\t} else if (\n\t\t\trenderField.fieldType === 'captcha' &&\n\t\t\t![null, undefined].includes(apiValues[renderField.fieldColumn])\n\t\t) {\n\t\t\tObject.keys(apiValues).map((key) => {\n\t\t\t\tif (key === renderField.fieldColumn) {\n\t\t\t\t\tdelete apiValues[key];\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (\n\t\t\trenderField.fieldType === 'dropDown' &&\n\t\t\t![null, undefined].includes(apiValues[renderField.fieldColumn])\n\t\t) {\n\t\t\tif (\n\t\t\t\trenderField.isMultiple &&\n\t\t\t\trenderField.additionalMetaData.showSelectAll &&\n\t\t\t\tapiValues[renderField.fieldColumn].length\n\t\t\t) {\n\t\t\t\tapiValues[renderField.fieldColumn].map((data: any, index: number) => {\n\t\t\t\t\tif (data === 'selectAll') {\n\t\t\t\t\t\tapiValues[renderField.fieldColumn].splice(index, 1);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif (renderField.additionalMetaData.isNone && !renderField.isRequired && apiValues[renderField.fieldColumn] === 'none') {\n\t\t\t\t\tapiValues[renderField.fieldColumn] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (\n\t\t\trenderField.fieldType === 'textBox' &&\n\t\t\t![null, undefined].includes(apiValues[renderField.fieldColumn])\n\t\t) {\n\t\t\tif (renderField.additionalMetaData.capLock) {\n\t\t\t\tapiValues[renderField.fieldColumn] = apiValues[renderField.fieldColumn].toUpperCase();\n\t\t\t}\n\t\t\tif (renderField.type === 'number') {\n\t\t\t\tapiValues[renderField.fieldColumn] = Number(apiValues[renderField.fieldColumn]);\n\t\t\t}\n\t\t} else if (renderField.fieldType === 'autoComplete') {\n\t\t\tif (renderField.hasOwnProperty('selectedValue') && renderField.selectedValue.length) {\n\t\t\t\tlet value: any[] = [];\n\t\t\t\trenderField.selectedValue.map((optionsResp: any) => {\n\t\t\t\t\tif (typeof optionsResp === 'object') {\n\t\t\t\t\t\tif (optionsResp.hasOwnProperty('key')) {\n\t\t\t\t\t\t\tconst pushData: any = {\n\t\t\t\t\t\t\t\tkey: optionsResp.key\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t// if (optionsResp.hasOwnProperty('weightage')) {\n\t\t\t\t\t\t\t// \tpushData.progress = optionsResp.progress;\n\t\t\t\t\t\t\t// \t// pushData.weightage = optionsResp.weightage;\n\t\t\t\t\t\t\t// \t// if (Array.isArray(renderField.additionalMetaData.maxWeightage)) {\n\t\t\t\t\t\t\t// \t// \tpushData.weightage = renderField.additionalMetaData.maxWeightage[optionsResp.weightage].key;\n\t\t\t\t\t\t\t// \t// }\n\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\tvalue.push(pushData);\n\t\t\t\t\t\t\tif (value[value.length - 1] && typeof value[value.length - 1] === 'object') {\n\t\t\t\t\t\t\t\tif (optionsResp.isDelete) {\n\t\t\t\t\t\t\t\t\tvalue[value.length - 1].isDelete = optionsResp.isDelete;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (optionsResp.isAdd) {\n\t\t\t\t\t\t\t\t\tvalue[value.length - 1].isAdd = optionsResp.isAdd;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvalue.push({\n\t\t\t\t\t\t\t\tvalue: optionsResp\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalue.push(optionsResp);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (!renderField.preDefined && !renderField.isMultiple) {\n\t\t\t\t\tif (apiValues[renderField.fieldColumn] && typeof apiValues[renderField.fieldColumn] === 'string') {\n\t\t\t\t\t\tvalue = [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\t\t\tisAdd: true,\n\t\t\t\t\t\t\t\t\tisDelete: false,\n\t\t\t\t\t\t\t\t\tvalue: apiValues[renderField.fieldColumn]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tapiValues[renderField.fieldColumn] = value;\n\t\t\t}\n\t\t}\n\t\tif (['textBox', 'textArea', 'dropDown', 'radio', 'date', 'quillEditor'].includes(renderField.fieldType) && [null, undefined].includes(apiValues[renderField.fieldColumn]) && !Array.isArray(apiValues)) {\n\t\t\tapiValues[renderField.fieldColumn] = '';\n\t\t}\n\t}\n\n\t/**\n   * @description After the validation, values will be modified before sending the data to API.\n   * @param {json} apiValues form values as json.\n   * @param {json} renderFields form build json data.\n   * @see fieldValueConstruct()\n   * @return {json} Modified form values.\n   */\n\tfieldSubmitApiValueConstruct(apiValues: any, renderFields: Array<any>) {\n\t\tif (renderFields.length) {\n\t\t\trenderFields.map((renderField: any) => {\n\t\t\t\tthis.fieldValueConstruct(renderField, apiValues);\n\t\t\t});\n\t\t}\n\t\treturn apiValues;\n\t}\n\n\t/**\n   * @description Resetting the form / control.\n   * @param {form} form Form / FormControl.\n   */\n\tresetValue(form: FormGroup): void {\n\t\tif (form) {\n\t\t\tform.reset();\n\t\t\tform.markAsTouched();\n\t\t}\n\t}\n\n\t/**\n   * @description To navigate to preferred page.\n   * @param {string} link Router link.\n   * @param {object} additionalData Router's additional data like queryParams or etc.\n   * @param {string | number} params Router's additional path.\n   * @return {boolean} false.\n   */\n\trouteNavigation(link: string, additionalData: NavigationExtras | {} = {}, params: string | number = '') {\n\t\tif (![null, undefined, ''].includes(link)) {\n\t\t\tif (Object.keys(additionalData).length && params) {\n\t\t\t\tlet linkData: any = [];\n\t\t\t\tlinkData.push(link);\n\t\t\t\tlinkData = linkData.concat(params);\n\t\t\t\tthis.router.navigate(linkData, additionalData);\n\t\t\t} else if (Object.keys(additionalData).length && !params) {\n\t\t\t\tthis.router.navigate([link], { queryParams: additionalData });\n\t\t\t} else if (params && !Object.keys(additionalData).length) {\n\t\t\t\tlet linkData: any = [];\n\t\t\t\tlinkData.push(link);\n\t\t\t\tlinkData = linkData.concat(params);\n\t\t\t\tthis.router.navigate(linkData);\n\t\t\t} else {\n\t\t\t\tthis.router.navigate([link]);\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n * @description Refresh the cookie (token, currentUser).\n */\n\trefreshCookies(): void {\n\t\t// const currentUser = this.getCookie('currentUser');\n\t\tconst expire = this.appInit.configuration.sessionExpireTime;\n\t\tconst options = {\n\t\t\texpire\n\t\t};\n\t\tconst token = this.getCookie('token');\n\t\tthis.setCookie('token', token, options);\n\t\t// this.setCookie('currentUser', currentUser, options);\n\t}\n\n\t/**\n * @description Check whether the user is logged in or not. If the user is logged in then the cookie will be refreshed.\n * @see refreshCookies()\n * @returns {boolean} true / false\n */\n\tget isLogin() {\n\t\tconst currentUser = this.sessionUser;\n\t\tconst token = this.getCookie('token');\n\t\tif (![null, undefined, ''].includes(currentUser) && ![null, undefined, ''].includes(token)) {\n\t\t\tthis.refreshCookies();\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n   * @description Set form control as touched.\n   * @param {array} renderFields array of fields.\n   * @param {FormGroup} form Form field controls.\n   */\n\tfieldControlMarkAsTouched(renderFields: any, form: FormGroup): void {\n\t\tconst formGroup: any = form;\n\t\tfor (const field of renderFields) {\n\t\t\tif (\n\t\t\t\tformGroup.controls[field.fieldColumn].touched === false &&\n\t\t\t\tformGroup.controls[field.fieldColumn].status === 'INVALID'\n\t\t\t) {\n\t\t\t\tformGroup.controls[field.fieldColumn].markAsTouched();\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n   * @description Set form control as touched.\n   * @param {array} renderFields array of form group field.\n   * @param {FormGroup} form Form field controls.\n   */\n\tfieldGroupControlMarkAsTouched(renderFields: any, form: FormGroup): void {\n\t\tconst formGroup: any = form;\n\t\tfor (const field of renderFields.fieldGroup) {\n\t\t\tthis.fieldControlMarkAsTouched(field.FieldList, formGroup.controls['group_' + field.fieldGroupId]);\n\t\t}\n\t}\n\n\tasync loadComponent(component: any, container: ViewContainerRef, record: Array<{ variableName: string, value: any }>) {\n\t\tif (!Array.isArray(record)) {\n\t\t\tthrow new Error('Record must be an array of json');\n\t\t} else if ([null, undefined, ''].includes(component)) {\n\t\t\tthrow new Error('Component name should not be empty');\n\t\t}\n\t\ttry {\n\t\t\tif (typeof component === 'object') {\n\t\t\t\tconst actualComponent = await component;\n\t\t\t\tconst key = Object.keys(actualComponent)[0];\n\t\t\t\tcomponent = actualComponent[key];\n\t\t\t}\n\t\t\tconst factory = this.componentFactoryResolver.resolveComponentFactory(component);\n\t\t\t// container.clear();\n\t\t\tconst ref: ComponentRef<any> = container.createComponent(factory);\n\t\t\tfor (const data of record) {\n\t\t\t\tref.instance[data.variableName] = data.value;\n\t\t\t}\n\t\t\tref.changeDetectorRef.detectChanges();\n\t\t\treturn ref.instance;\n\t\t} catch (error) {\n\t\t\tthrow new Error(error);\n\t\t}\n\t}\n\n\n\tdateFormat(date: number, format: string) {\n\t\treturn new DatePipe('en-US').transform(date, format);\n\t}\n\n\tgetUTCOffset(date: Date, type = 'STRING') {\n\t\tconst pad = (value: number) => {\n\t\t\treturn value < 10 ? '0' + value : value;\n\t\t};\n\t\tconst sign = date.getTimezoneOffset() > 0 ? '-' : '+';\n\t\tconst offset = Math.abs(date.getTimezoneOffset());\n\t\tconst hours = pad(Math.floor(offset / 60));\n\t\tconst minutes = pad(offset % 60);\n\t\tif (type === 'JSON') {\n\t\t\treturn {\n\t\t\t\tsign,\n\t\t\t\thours,\n\t\t\t\tminutes\n\t\t\t};\n\t\t} else {\n\t\t\treturn sign + hours + ':' + minutes;\n\t\t}\n\t}\n\n\tformErrorHandler(error: any, form: FormGroup) {\n\t\tif (error.error.propertyError && error.error.propertyError.length) {\n\t\t\tfor (const property of error.error.propertyError) {\n\t\t\t\tObject.keys(property).map((key) => {\n\t\t\t\t\tif (form.controls[key]) {\n\t\t\t\t\t\tform.controls[key].setErrors({\n\t\t\t\t\t\t\tincorrect: {\n\t\t\t\t\t\t\t\tmsg: property[key]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n   * @description Trigger alert.\n   * @param {json | string} error Form field controls.\n   * @param {string} id alert id.\n   * @param {string} type type of alert.\n   */\n\talertHandler(error: any, id: string, options: Alert | AlertType): void {\n\t\tlet message: string = this.appInit.configuration.MESSAGE.WENT_WRONG;\n\t\tif (![null, undefined, ''].includes(error.error)) {\n\t\t\tif (error.error === 'popup_closed_by_user') {\n\t\t\t\tmessage = `Access cancelled.`;\n\t\t\t} else if (error.error === 'access_denied') {\n\t\t\t\tmessage = `Access denied.`;\n\t\t\t} else if (typeof error.error === 'string') {\n\t\t\t\tmessage = error.error;\n\t\t\t} else if (\n\t\t\t\t![null, undefined, ''].includes(error.error.propertyError) &&\n\t\t\t\terror.error.propertyError.length\n\t\t\t) {\n\t\t\t\tconst msg: any = Object.values(error.error.propertyError[0])[0] || message;\n\t\t\t\tmessage = msg.toString();\n\t\t\t} else if (![null, undefined, ''].includes(error.error.message)) {\n\t\t\t\tmessage = error.error.message;\n\t\t\t} else if (![null, undefined, ''].includes(error.error.error)) {\n\t\t\t\tif (error.error.error !== 'invalid_grant') {\n\t\t\t\t\tmessage = error.error.error;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (![null, undefined, ''].includes(error.statusText)) {\n\t\t\tmessage = error.statusText;\n\t\t} else if (typeof error === 'string') {\n\t\t\tmessage = error;\n\t\t}\n\t\tif (typeof options === 'string') {\n\t\t\tconst data: Alert = {\n\t\t\t\tcontent: {\n\t\t\t\t\ttext: message\n\t\t\t\t},\n\t\t\t\talertId: id,\n\t\t\t\ttype: options,\n\t\t\t\taction: [],\n\t\t\t\tautoHide: false\n\t\t\t};\n\t\t\t// data.action = [];\n\t\t\tif (options === 'SUCCESS') {\n\t\t\t\tdata.action.push({\n\t\t\t\t\ttype: 'icon',\n\t\t\t\t\ticon: 'done',\n\t\t\t\t\tposition: 'left',\n\t\t\t\t\temit: false,\n\t\t\t\t\tclasses: ['status-icon'],\n\t\t\t\t\ttoolTip: ''\n\t\t\t\t});\n\t\t\t} else if (options === 'WARNING') {\n\t\t\t\tdata.action.push({\n\t\t\t\t\ttype: 'icon',\n\t\t\t\t\ticon: 'warning',\n\t\t\t\t\tposition: 'left',\n\t\t\t\t\temit: false,\n\t\t\t\t\tclasses: ['status-icon'],\n\t\t\t\t\ttoolTip: ''\n\t\t\t\t});\n\t\t\t} else if (options === 'ERROR') {\n\t\t\t\tdata.action.push({\n\t\t\t\t\ttype: 'icon',\n\t\t\t\t\ticon: 'clear',\n\t\t\t\t\tposition: 'left',\n\t\t\t\t\temit: false,\n\t\t\t\t\tclasses: ['status-icon'],\n\t\t\t\t\ttoolTip: ''\n\t\t\t\t});\n\t\t\t}\n\t\t\toptions = data;\n\t\t}\n\t\tthis.alertService.alert(options);\n\t}\n\n\t/**\n\t * @description Trigger alert.\n\t * @param {string} type type of snack bar.\n\t * @param {string} message snack message.\n\t */\n\topenSnackBar(type: string, message: any, config: SnackBarConfiguration = { verticalPosition: 'top' }): void {\n\t\tif (Object.keys(config).length === 0 || !config.hasOwnProperty('duration')) {\n\t\t\tconfig.duration = this.appInit.configuration.snackBarDuration;\n\t\t}\n\t\tconst data = { data: { message, type } };\n\t\tthis.snackBar.openFromComponent(SnackBarComponent, this.JSONMerge(data, config));\n\t}\n\n\t/**\n   * @description Clear particular alert.\n   * @param {string} id alert id.\n   */\n\talertClear(id: string): void {\n\t\tthis.alertService.clear(id);\n\t}\n\n\tembed(url: any): any {\n\t\tlet returnData;\n\t\tlet urlFormat: any = this.detectEmbedURL(url);\n\t\tif (urlFormat.id) {\n\t\t\turlFormat.isFormatted = true;\n\t\t\treturnData = this.formatEmbedURL(urlFormat);\n\t\t} else {\n\t\t\turlFormat.isFormatted = false;\n\t\t\turlFormat.url = url;\n\t\t\treturnData = urlFormat;\n\t\t}\n\n\t\treturn returnData;\n\t}\n\n\n\tprivate detectEmbedURL(url: any): object {\n\t\tconst urlData = new URL(url);\n\t\tlet returnValue;\n\t\tif (urlData.hostname.indexOf('youtube.com') > -1) {\n\t\t\treturnValue = {\n\t\t\t\ttype: 'youtube',\n\t\t\t\tid: urlData.search.split('=')[1]\n\t\t\t};\n\t\t} else if (urlData.hostname === 'youtu.be') {\n\t\t\treturnValue = {\n\t\t\t\ttype: 'youtube',\n\t\t\t\tid: urlData.pathname.split('/')[1]\n\t\t\t};\n\t\t} else if (urlData.hostname === 'vimeo.com') {\n\t\t\treturnValue = {\n\t\t\t\ttype: 'vimeo',\n\t\t\t\tid: urlData.pathname.split('/')[1]\n\t\t\t};\n\t\t} else {\n\t\t\treturnValue = {\n\t\t\t\ttype: 'embedLink',\n\t\t\t\tid: null\n\t\t\t};\n\t\t}\n\n\t\treturn returnValue;\n\t}\n\n\tprivate formatEmbedURL(urlFormat: any): object {\n\n\t\tif (urlFormat.type === 'youtube') {\n\t\t\tconst url: any = this.sanitizer.bypassSecurityTrustResourceUrl(`https://www.youtube.com/embed/${urlFormat.id}`)\n\t\t\tif (url && Object.keys(url).length) {\n\t\t\t\turlFormat.url = url.changingThisBreaksApplicationSecurity;\n\t\t\t} else {\n\t\t\t\turlFormat.url = url;\n\t\t\t}\n\t\t} else if (urlFormat.type === 'vimeo') {\n\t\t\tconst url: any = this.sanitizer.bypassSecurityTrustResourceUrl(`https://player.vimeo.com/video/${urlFormat.id}`)\n\t\t\tif (url && Object.keys(url).length) {\n\t\t\t\turlFormat.url = url.changingThisBreaksApplicationSecurity;\n\t\t\t} else {\n\t\t\t\turlFormat.url = url;\n\t\t\t}\n\t\t}\n\t\treturn urlFormat;\n\t}\n\n\ttrackByID(index: number, item: any) {\n\t\tif (this.hasOwnProperty('key') && item) {\n\t\t\treturn item[this['key']];\n\t\t}\n\t}\n\n\telementInViewport(el: HTMLElement) {\n\t\tvar rect = el.getBoundingClientRect();\n\n\t\treturn (\n\t\t\trect.top >= 0 &&\n\t\t\trect.left >= 0 &&\n\t\t\trect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && /* or $(window).height() */\n\t\t\trect.right <= (window.innerWidth || document.documentElement.clientWidth) /* or $(window).width() */\n\t\t);\n\t}\n\n\terrorHandler(error: any, additionalInfo: {\n\t\talert?:\n\t\t{\n\t\t\tid: string,\n\t\t\toptions?: Alert | AlertType\n\t\t},\n\t\tsnackBar?: {\n\t\t\tposition: string;\n\t\t\tconfig?: SnackBarConfiguration;\n\t\t\tmessage?: string;\n\t\t\ticon?: string;\n\t\t},\n\t\tform?: {\n\t\t\tform: FormGroup;\n\t\t}\n\t}) {\n\t\tif (error && additionalInfo) {\n\t\t\tif (error.error && error.error.errorCode === 'SYSTEM_ERROR') {\n\t\t\t\terror.error = this.locale.translate('sorry_something_went_wrong_try_again')\n\t\t\t}\n\t\t\tif (additionalInfo.alert) {\n\t\t\t\tif (!additionalInfo.alert.options) {\n\t\t\t\t\tadditionalInfo.alert.options = 'ERROR';\n\t\t\t\t}\n\t\t\t\tthis.alertHandler(error, additionalInfo.alert.id, additionalInfo.alert.options);\n\t\t\t} else if (additionalInfo.snackBar) {\n\t\t\t\tlet message: string = this.appInit.configuration.MESSAGE.WENT_WRONG;\n\t\t\t\tif (![null, undefined, ''].includes(error.error)) {\n\t\t\t\t\tif (typeof error.error === 'string') {\n\t\t\t\t\t\tmessage = error.error;\n\t\t\t\t\t} else if (![null, undefined, ''].includes(error.error.message)) {\n\t\t\t\t\t\tmessage = error.error.message;\n\t\t\t\t\t} else if (![null, undefined, ''].includes(error.error.error)) {\n\t\t\t\t\t\tif (error.error.error !== 'invalid_grant') {\n\t\t\t\t\t\t\tmessage = error.error.error;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (![null, undefined, ''].includes(error.statusText)) {\n\t\t\t\t\tmessage = error.statusText;\n\t\t\t\t} else if (typeof error === 'string') {\n\t\t\t\t\tmessage = error;\n\t\t\t\t}\n\t\t\t\tadditionalInfo.snackBar['message'] = message;\n\t\t\t\tadditionalInfo.snackBar['icon'] = 'error';\n\t\t\t\tthis.openSnackBar('ERROR', additionalInfo.snackBar);\n\t\t\t}\n\t\t\tif (additionalInfo.form) {\n\t\t\t\tthis.formErrorHandler(error, additionalInfo.form.form);\n\t\t\t}\n\t\t}\n\t}\n\n\tget errorImages() {\n\t\treturn [\n\t\t\t{\n\t\t\t\tkey: 'dummy_1',\n\t\t\t\tvalue: 'dummyimg1.png'\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: 'dummy_2',\n\t\t\t\tvalue: 'dummy-img.png'\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: 'resourceDefault',\n\t\t\t\tvalue: 'resource-default-image.jpg'\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: 'man',\n\t\t\t\tvalue: 'man.png'\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: 'courseThumbnail',\n\t\t\t\tvalue: 'course-thumbnail.png'\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: 'training',\n\t\t\t\tvalue: 'training.jpg'\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: 'certificate',\n\t\t\t\tvalue: 'certificate.jpeg'\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: 'broken_image',\n\t\t\t\tvalue: 'broken-image.jpg'\n\t\t\t}\n\t\t];\n\t}\n\n\tsetErrorImage(event: any, key: string) {\n\t\tif (navigator.onLine) {\n\t\t\tif (event.target) {\n\t\t\t\tconst errorImg = this.errorImages.find(items => items.key === key);\n\t\t\t\tif (errorImg) {\n\t\t\t\t\tevent.target.src = `assets/img/${errorImg.value}`;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tcopyToClipboard(text: string, alertMessage: string = '') {\n\t\tif (text) {\n\t\t\tthis.clipboard.copy(text);\n\t\t\tif (alertMessage) {\n\t\t\t}\n\t\t}\n\t}\n\n\tintervalTimer(callback: any, interval: number) {\n\t\tlet timerId: number, startTime: any, remaining = 0;\n\t\tlet state = 0; //  0 = idle, 1 = running, 2 = paused, 3= resumed\n\t\tlet pastInterval = 0;\n\n\t\tfunction pause() {\n\t\t\tif (!([1, 3].includes(state))) return;\n\t\t\tlet currentTimer = Date.now() - startTime;\n\t\t\tif (pastInterval < interval) {\n\t\t\t\tpastInterval = pastInterval + currentTimer;\n\t\t\t} else {\n\t\t\t\tpastInterval = interval;\n\t\t\t}\n\t\t\tremaining = interval - pastInterval;\n\t\t\twindow.clearInterval(timerId);\n\t\t\tstate = 2;\n\t\t}\n\n\t\tfunction resume() {\n\t\t\tif (state != 2) return;\n\t\t\tstate = 3;\n\t\t\tstartTime = Date.now();\n\t\t\ttimerId = window.setTimeout(timeoutCallback, remaining);\n\t\t}\n\n\t\tfunction clearInterval() {\n\t\t\twindow.clearInterval(timerId);\n\t\t}\n\n\t\tfunction timeoutCallback() {\n\t\t\tif (state != 3) return;\n\t\t\tpastInterval = 0;\n\t\t\tcallback();\n\n\t\t\ttimerId = window.setInterval(counter, interval);\n\t\t\tstate = 1;\n\t\t}\n\n\t\tfunction counter() {\n\t\t\tstartTime = Date.now();\n\t\t\tpastInterval = 0;\n\t\t\tcallback();\n\t\t}\n\n\t\tstartTime = Date.now();\n\t\ttimerId = window.setInterval(counter, interval);\n\t\tstate = 1;\n\t\treturn { pause, resume, clearInterval }\n\t}\n\n\tgetTimeDuration(time: string, durationType: 'hour' | 'minutes' | 'seconds' = 'minutes') {\n\t\tlet splittedTime = time.split(':');\n\t\tlet hour = 0;\n\t\tlet minutes = 0;\n\t\tlet seconds = 0;\n\t\tlet duration: any = '';\n\n\t\tif (splittedTime.length) {\n\t\t\thour = parseInt(splittedTime[0]);\n\n\t\t\tminutes = parseInt(splittedTime[1]);\n\n\t\t\tif (splittedTime.length === 3) {\n\t\t\t\tseconds = parseInt(splittedTime[2]);\n\t\t\t}\n\n\t\t\tif (durationType === 'hour') {\n\t\t\t\thour += Math.floor(minutes / 60);\n\t\t\t\thour += Math.floor(seconds / 3600);\n\t\t\t\tif (hour <= 1) {\n\t\t\t\t\tduration = `${hour} hour`\n\t\t\t\t} else {\n\t\t\t\t\tduration = `${hour} hours`\n\t\t\t\t}\n\t\t\t} else if (durationType === 'minutes') {\n\t\t\t\tminutes += Math.floor(hour * 60);\n\t\t\t\tminutes += Math.floor(seconds / 60);\n\t\t\t\tif (minutes <= 1) {\n\t\t\t\t\tduration = `${minutes} min`\n\t\t\t\t} else {\n\t\t\t\t\tduration = `${minutes} min`\n\t\t\t\t}\n\t\t\t} else if (durationType === 'seconds') {\n\t\t\t\tseconds += Math.floor(hour * 3600);\n\t\t\t\tseconds += Math.floor(minutes * 60);\n\t\t\t\tif (seconds <= 1) {\n\t\t\t\t\tduration = `${seconds} seconds`\n\t\t\t\t} else {\n\t\t\t\t\tduration = `${seconds} seconds`\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn duration;\n\t}\n\n\tgetRangeDate(past: boolean, type: 'days' | 'months' | 'years', duration: number, conditionalDate?: number, fromDate?: Date) {\n\t\tlet returnData = null;\n\t\tif (!fromDate) {\n\t\t\tfromDate = new Date();\n\t\t}\n\t\tconst targetedDate = moment(fromDate).format('YYYY-MM-DD');\n\t\tconst alteredDate = this.getDateDifference(past, type, duration, fromDate);\n\t\tlet startDate;\n\t\tlet endDate;\n\t\tif (past) {\n\t\t\tstartDate = alteredDate;\n\t\t\tif (conditionalDate) {\n\t\t\t\tif (alteredDate < conditionalDate) {\n\t\t\t\t\tstartDate = conditionalDate;\n\t\t\t\t}\n\t\t\t}\n\t\t\tendDate = moment(targetedDate).endOf('day').valueOf();\n\t\t} else {\n\t\t\tstartDate = moment(targetedDate).startOf('day').valueOf();\n\t\t\tendDate = alteredDate;\n\t\t\tif (conditionalDate) {\n\t\t\t\tif (alteredDate > conditionalDate) {\n\t\t\t\t\tendDate = conditionalDate;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (startDate && endDate) {\n\t\t\treturnData = {\n\t\t\t\tstartDate,\n\t\t\t\tendDate\n\t\t\t};\n\t\t}\n\t\treturn returnData;\n\t}\n}\n\ninterface ComponentData {\n\tvariableName: string;\n\tvalue: any;\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}